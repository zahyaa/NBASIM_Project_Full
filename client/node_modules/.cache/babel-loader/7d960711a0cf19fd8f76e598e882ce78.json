{"ast":null,"code":"var _jsxFileName = \"/Users/devlogic/Documents/NBASIM_Project_Full/client/src/components/GameSimulator.jsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport TeamDisplay from './TeamDisplay';\nimport Controls from './Controls';\nimport { usePlayers } from '../hooks/usePlayers';\nexport default function GameSimulator() {\n  // For demo, hardcode team IDs and season. Replace with context or props as needed.\n  const [teamAId] = useState(1); // Example: Atlanta Hawks\n  const [teamBId] = useState(2); // Example: Boston Celtics\n  const [season] = useState(2025);\n  const playersA = usePlayers(teamAId, season);\n  const playersB = usePlayers(teamBId, season);\n  const [clock, setClock] = useState(720); // 12 min\n  const [isRunning, setIsRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [score, setScore] = useState({\n    teamA: 0,\n    teamB: 0\n  });\n  const [timeouts, setTimeouts] = useState({\n    teamA: 6,\n    teamB: 6\n  });\n  const [playLog, setPlayLog] = useState([]);\n  const intervalRef = useRef(null);\n  function simulatePlay() {\n    const chance = Math.random();\n    if (chance < 0.05) {\n      const team = Math.random() < 0.5 ? 'teamA' : 'teamB';\n      const points = Math.random() < 0.7 ? 2 : 3;\n      setScore(prev => ({\n        ...prev,\n        [team]: prev[team] + points\n      }));\n      setPlayLog(prev => [...prev, `${team} scored ${points} points`]);\n    }\n  }\n  function fastForwardGame() {\n    clearInterval(intervalRef.current);\n    while (clock > 0) {\n      simulatePlay();\n      setClock(c => c - 1);\n    }\n    setIsRunning(false);\n  }\n  function handleTimeout(team) {\n    setTimeouts(prev => {\n      if (prev[team] > 0) {\n        setIsRunning(false);\n        return {\n          ...prev,\n          [team]: prev[team] - 1\n        };\n      }\n      return prev;\n    });\n  }\n  useEffect(() => {\n    if (isRunning && clock > 0) {\n      intervalRef.current = setInterval(() => {\n        setClock(prev => prev - 1);\n        simulatePlay();\n      }, 1000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n    return () => clearInterval(intervalRef.current);\n  }, [isRunning]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"NBA Simulation\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Quarter: 1\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Clock: \", Math.floor(clock / 60), \":\", String(clock % 60).padStart(2, '0')), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \"Score: Team A \", score.teamA, \" - Team B \", score.teamB), /*#__PURE__*/React.createElement(TeamDisplay, {\n    teamName: \"Team A\",\n    players: playersA,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TeamDisplay, {\n    teamName: \"Team B\",\n    players: playersB,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Controls, {\n    isRunning: isRunning,\n    isPaused: isPaused,\n    onStart: () => setIsRunning(true),\n    onStop: () => {\n      setIsRunning(false);\n      setClock(2880);\n    },\n    onPause: () => setIsPaused(p => !p),\n    onTimeout: handleTimeout,\n    onFastForward: fastForwardGame,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Play-by-Play\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, playLog.map((line, idx) => /*#__PURE__*/React.createElement(\"li\", {\n    key: idx,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 41\n    }\n  }, line)))));\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","TeamDisplay","Controls","usePlayers","GameSimulator","teamAId","teamBId","season","playersA","playersB","clock","setClock","isRunning","setIsRunning","isPaused","setIsPaused","score","setScore","teamA","teamB","timeouts","setTimeouts","playLog","setPlayLog","intervalRef","simulatePlay","chance","Math","random","team","points","prev","fastForwardGame","clearInterval","current","c","handleTimeout","setInterval","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","floor","String","padStart","teamName","players","onStart","onStop","onPause","p","onTimeout","onFastForward","map","line","idx","key"],"sources":["/Users/devlogic/Documents/NBASIM_Project_Full/client/src/components/GameSimulator.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport TeamDisplay from './TeamDisplay';\nimport Controls from './Controls';\nimport { usePlayers } from '../hooks/usePlayers';\n\nexport default function GameSimulator() {\n  // For demo, hardcode team IDs and season. Replace with context or props as needed.\n  const [teamAId] = useState(1); // Example: Atlanta Hawks\n  const [teamBId] = useState(2); // Example: Boston Celtics\n  const [season] = useState(2025);\n\n  const playersA = usePlayers(teamAId, season);\n  const playersB = usePlayers(teamBId, season);\n\n  const [clock, setClock] = useState(720); // 12 min\n  const [isRunning, setIsRunning] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [score, setScore] = useState({ teamA: 0, teamB: 0 });\n  const [timeouts, setTimeouts] = useState({ teamA: 6, teamB: 6 });\n  const [playLog, setPlayLog] = useState([]);\n  const intervalRef = useRef(null);\n\n  function simulatePlay() {\n    const chance = Math.random();\n    if (chance < 0.05) {\n      const team = Math.random() < 0.5 ? 'teamA' : 'teamB';\n      const points = Math.random() < 0.7 ? 2 : 3;\n      setScore(prev => ({ ...prev, [team]: prev[team] + points }));\n      setPlayLog(prev => [...prev, `${team} scored ${points} points`]);\n    }\n  }\n\n  function fastForwardGame() {\n    clearInterval(intervalRef.current);\n    while (clock > 0) {\n      simulatePlay();\n      setClock(c => c - 1);\n    }\n    setIsRunning(false);\n  }\n\n  function handleTimeout(team) {\n    setTimeouts(prev => {\n      if (prev[team] > 0) {\n        setIsRunning(false);\n        return { ...prev, [team]: prev[team] - 1 };\n      }\n      return prev;\n    });\n  }\n\n  useEffect(() => {\n    if (isRunning && clock > 0) {\n      intervalRef.current = setInterval(() => {\n        setClock(prev => prev - 1);\n        simulatePlay();\n      }, 1000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n    return () => clearInterval(intervalRef.current);\n  }, [isRunning]);\n\n  return (\n    <div>\n      <h1>NBA Simulation</h1>\n      <div>Quarter: 1</div>\n      <div>Clock: {Math.floor(clock / 60)}:{String(clock % 60).padStart(2, '0')}</div>\n      <div>Score: Team A {score.teamA} - Team B {score.teamB}</div>\n      <TeamDisplay teamName=\"Team A\" players={playersA} />\n      <TeamDisplay teamName=\"Team B\" players={playersB} />\n      <Controls\n        isRunning={isRunning}\n        isPaused={isPaused}\n        onStart={() => setIsRunning(true)}\n        onStop={() => { setIsRunning(false); setClock(2880); }}\n        onPause={() => setIsPaused(p => !p)}\n        onTimeout={handleTimeout}\n        onFastForward={fastForwardGame}\n      />\n      <div>\n        <h2>Play-by-Play</h2>\n        <ul>{playLog.map((line, idx) => <li key={idx}>{line}</li>)}</ul>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,eAAe,SAASC,aAAaA,CAAA,EAAG;EACtC;EACA,MAAM,CAACC,OAAO,CAAC,GAAGL,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/B,MAAM,CAACM,OAAO,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/B,MAAM,CAACO,MAAM,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE/B,MAAMQ,QAAQ,GAAGL,UAAU,CAACE,OAAO,EAAEE,MAAM,CAAC;EAC5C,MAAME,QAAQ,GAAGN,UAAU,CAACG,OAAO,EAAEC,MAAM,CAAC;EAE5C,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;EACzC,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC;IAAEkB,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EAC1D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC;IAAEkB,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EAChE,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMwB,WAAW,GAAGzB,MAAM,CAAC,IAAI,CAAC;EAEhC,SAAS0B,YAAYA,CAAA,EAAG;IACtB,MAAMC,MAAM,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC;IAC5B,IAAIF,MAAM,GAAG,IAAI,EAAE;MACjB,MAAMG,IAAI,GAAGF,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,OAAO,GAAG,OAAO;MACpD,MAAME,MAAM,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;MAC1CX,QAAQ,CAACc,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACF,IAAI,GAAGE,IAAI,CAACF,IAAI,CAAC,GAAGC;MAAO,CAAC,CAAC,CAAC;MAC5DP,UAAU,CAACQ,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAGF,IAAI,WAAWC,MAAM,SAAS,CAAC,CAAC;IAClE;EACF;EAEA,SAASE,eAAeA,CAAA,EAAG;IACzBC,aAAa,CAACT,WAAW,CAACU,OAAO,CAAC;IAClC,OAAOxB,KAAK,GAAG,CAAC,EAAE;MAChBe,YAAY,CAAC,CAAC;MACdd,QAAQ,CAACwB,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;IACtB;IACAtB,YAAY,CAAC,KAAK,CAAC;EACrB;EAEA,SAASuB,aAAaA,CAACP,IAAI,EAAE;IAC3BR,WAAW,CAACU,IAAI,IAAI;MAClB,IAAIA,IAAI,CAACF,IAAI,CAAC,GAAG,CAAC,EAAE;QAClBhB,YAAY,CAAC,KAAK,CAAC;QACnB,OAAO;UAAE,GAAGkB,IAAI;UAAE,CAACF,IAAI,GAAGE,IAAI,CAACF,IAAI,CAAC,GAAG;QAAE,CAAC;MAC5C;MACA,OAAOE,IAAI;IACb,CAAC,CAAC;EACJ;EAEAjC,SAAS,CAAC,MAAM;IACd,IAAIc,SAAS,IAAIF,KAAK,GAAG,CAAC,EAAE;MAC1Bc,WAAW,CAACU,OAAO,GAAGG,WAAW,CAAC,MAAM;QACtC1B,QAAQ,CAACoB,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;QAC1BN,YAAY,CAAC,CAAC;MAChB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,MAAM;MACLQ,aAAa,CAACT,WAAW,CAACU,OAAO,CAAC;IACpC;IACA,OAAO,MAAMD,aAAa,CAACT,WAAW,CAACU,OAAO,CAAC;EACjD,CAAC,EAAE,CAACtB,SAAS,CAAC,CAAC;EAEf,oBACEf,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE/C,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,gBAAkB,CAAC,eACvB/C,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAK,YAAe,CAAC,eACrB/C,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAK,SAAO,EAACjB,IAAI,CAACkB,KAAK,CAACnC,KAAK,GAAG,EAAE,CAAC,EAAC,GAAC,EAACoC,MAAM,CAACpC,KAAK,GAAG,EAAE,CAAC,CAACqC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAO,CAAC,eAChFlD,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAK,gBAAc,EAAC5B,KAAK,CAACE,KAAK,EAAC,YAAU,EAACF,KAAK,CAACG,KAAW,CAAC,eAC7DtB,KAAA,CAAAyC,aAAA,CAACrC,WAAW;IAAC+C,QAAQ,EAAC,QAAQ;IAACC,OAAO,EAAEzC,QAAS;IAAA+B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACpD/C,KAAA,CAAAyC,aAAA,CAACrC,WAAW;IAAC+C,QAAQ,EAAC,QAAQ;IAACC,OAAO,EAAExC,QAAS;IAAA8B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACpD/C,KAAA,CAAAyC,aAAA,CAACpC,QAAQ;IACPU,SAAS,EAAEA,SAAU;IACrBE,QAAQ,EAAEA,QAAS;IACnBoC,OAAO,EAAEA,CAAA,KAAMrC,YAAY,CAAC,IAAI,CAAE;IAClCsC,MAAM,EAAEA,CAAA,KAAM;MAAEtC,YAAY,CAAC,KAAK,CAAC;MAAEF,QAAQ,CAAC,IAAI,CAAC;IAAE,CAAE;IACvDyC,OAAO,EAAEA,CAAA,KAAMrC,WAAW,CAACsC,CAAC,IAAI,CAACA,CAAC,CAAE;IACpCC,SAAS,EAAElB,aAAc;IACzBmB,aAAa,EAAEvB,eAAgB;IAAAO,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAChC,CAAC,eACF/C,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE/C,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAgB,CAAC,eACrB/C,KAAA,CAAAyC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKtB,OAAO,CAACkC,GAAG,CAAC,CAACC,IAAI,EAAEC,GAAG,kBAAK7D,KAAA,CAAAyC,aAAA;IAAIqB,GAAG,EAAED,GAAI;IAAAnB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEa,IAAS,CAAC,CAAM,CAC5D,CACF,CAAC;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module"}