(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(3),c=a.n(r),m=a(1);function s(e){let{teamName:t,players:a}=e;return n.a.createElement("div",null,n.a.createElement("h3",null,t),n.a.createElement("ul",null,a&&a.length>0?a.map(e=>n.a.createElement("li",{key:e.id},e.first_name," ",e.last_name)):n.a.createElement("li",null,"No players found.")))}function u(e){let{isRunning:t,isPaused:a,onStart:l,onStop:r,onPause:c,onTimeout:m,onFastForward:s}=e;return n.a.createElement("div",{className:"flex flex-wrap gap-4 justify-center"},n.a.createElement("button",{onClick:l,disabled:t},"Start"),n.a.createElement("button",{onClick:c,disabled:!t},a?"Resume":"Pause"),n.a.createElement("button",{onClick:r},"Stop"),n.a.createElement("button",{onClick:()=>m("teamA")},"Timeout Team A"),n.a.createElement("button",{onClick:()=>m("teamB")},"Timeout Team B"),n.a.createElement("button",{onClick:s},"Fast Forward"))}function o(e,t){const[a,n]=Object(l.useState)([]),[r,c]=Object(l.useState)(!0),[m,s]=Object(l.useState)(null);return Object(l.useEffect)(()=>{e&&t&&(c(!0),async function(e,t){const a=await fetch("/api/players?teamId=".concat(e,"&season=").concat(t));if(!a.ok)throw new Error("Failed to fetch players");return a.json()}(e,t).then(n).catch(s).finally(()=>c(!1)))},[e,t]),{players:a,loading:r,error:m}}function i(){const[e,t]=Object(l.useState)([]),[a,n]=Object(l.useState)(!0),[r,c]=Object(l.useState)(null);return Object(l.useEffect)(()=>{n(!0),async function(){const e=await fetch("/api/teams");if(!e.ok)throw new Error("Failed to fetch teams");return e.json()}().then(t).catch(c).finally(()=>n(!1))},[]),{teams:e,loading:a,error:r}}const d=Object(l.createContext)();function E(e){let{children:t}=e;const[a,r]=Object(l.useState)(""),[c,m]=Object(l.useState)(""),[s,u]=Object(l.useState)(!1),[o,i]=Object(l.useState)(!1),[E,f]=Object(l.useState)(1),[b,p]=Object(l.useState)(2025);return n.a.createElement(d.Provider,{value:{teamA:a,setTeamA:r,teamB:c,setTeamB:m,isRunning:s,isPaused:o,startGame:()=>u(!0),pauseGame:()=>i(e=>!e),stopGame:()=>u(!1),timeout:e=>{},quarter:E,setQuarter:f,season:b,setSeason:p}},t)}function f(){return Object(l.useContext)(d)}const b=[{label:"2024-25",value:2025},{label:"2023-24",value:2024},{label:"2022-23",value:2023},{label:"2021-22",value:2022}],p=[1,2,3,4];function v(e){var t;let{teamId:a,setTeamId:r}=e;const[c,m]=Object(l.useState)(a||""),[s,u]=Object(l.useState)(b[0].value),[d,E]=Object(l.useState)(1),v=i(),S=o(c,s),{setTeamA:h,setTeamB:g,setQuarter:j,setSeason:O}=f();return Object(l.useEffect)(()=>{c&&(1===a?h(c):g(c))},[c,a,h,g]),Object(l.useEffect)(()=>{O&&O(s)},[s,O]),Object(l.useEffect)(()=>{j&&j(d)},[d,j]),n.a.createElement("div",{className:"flex flex-col items-center"},n.a.createElement("h2",null,"Select Team"),n.a.createElement("select",{value:c,onChange:e=>m(e.target.value),className:"mb-4 p-2 border rounded"},n.a.createElement("option",{value:""},"Select a team"),v.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.full_name))),n.a.createElement("h2",null,"Select Season"),n.a.createElement("select",{value:s,onChange:e=>u(Number(e.target.value)),className:"mb-4 p-2 border rounded"},b.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.label))),n.a.createElement("h2",null,"Select Quarter"),n.a.createElement("select",{value:d,onChange:e=>E(Number(e.target.value)),className:"mb-4 p-2 border rounded"},p.map(e=>n.a.createElement("option",{key:e,value:e},"Quarter ",e))),c&&n.a.createElement("div",null,n.a.createElement("h3",null,"Players (",null===(t=b.find(e=>e.value===s))||void 0===t?void 0:t.label,"):"),n.a.createElement("ul",null,S&&S.length>0?S.map(e=>n.a.createElement("li",{key:e.id},e.first_name," ",e.last_name)):n.a.createElement("li",null,"No players found for this team/season."))))}function S(e){let{quarter:t,timeLeft:a}=e;return n.a.createElement("div",{className:"quarter"},n.a.createElement("h3",null,"Quarter ",t),n.a.createElement("p",null,"Time Left: ",Math.floor(a/60),":",String(a%60).padStart(2,"0")))}function h(){const[e,t]=Object(l.useState)([]);return Object(l.useEffect)(()=>{fetch("http://localhost:5000/api/games").then(e=>e.json()).then(t)},[]),n.a.createElement("div",null,n.a.createElement("h2",null,"Game History"),n.a.createElement("ul",null,e.map(e=>n.a.createElement("li",{key:e._id},e.teamA," (",e.scoreA,") vs ",e.teamB," (",e.scoreB,")"))))}var g=a(4);function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:4000";const t=Object(l.useRef)(null);return Object(l.useEffect)(()=>(t.current||(t.current=Object(g.a)(e)),()=>{t.current&&(t.current.disconnect(),t.current=null)}),[e]),t.current}const O=[{label:"2024-25",value:2025},{label:"2023-24",value:2024},{label:"2022-23",value:2023},{label:"2021-22",value:2022}];function y(){const{teamA:e,teamB:t,setTeamA:a,setTeamB:r,isRunning:c,isPaused:m,startGame:d,pauseGame:E,stopGame:b,timeout:p,season:S,setSeason:g}=f(),{teams:y,loading:N,error:T}=i(),k=y.find(t=>t.id===e),w=y.find(e=>e.id===t),{players:x,loading:B}=o(e,S),{players:A,loading:C}=o(t,S),I=j();return Object(l.useEffect)(()=>{if(I)return I.on("gameUpdate",e=>{console.log("Game update received:",e)}),()=>{I.off("gameUpdate")}},[I]),n.a.createElement("div",{className:"container mx-auto p-4"},n.a.createElement("h1",{className:"text-2xl font-bold mb-4"},"NBA Real Team Matchup"),n.a.createElement("div",{className:"mb-4"},n.a.createElement("label",{className:"mr-2 font-semibold"},"Season:"),n.a.createElement("select",{value:S,onChange:e=>g(Number(e.target.value)),className:"p-2 border rounded"},O.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.label)))),N&&n.a.createElement("div",null,"Loading teams..."),T&&n.a.createElement("div",null,"Error loading teams."),n.a.createElement("div",{className:"flex flex-col md:flex-row gap-4"},n.a.createElement("div",{className:"flex-1"},n.a.createElement(v,{teamId:e,setTeamId:a,season:S}),k&&n.a.createElement("div",{className:"flex items-center mt-2"},k.logo&&n.a.createElement("img",{src:k.logo,alt:k.full_name,className:"w-10 h-10 mr-2"}),n.a.createElement("span",{className:"font-bold"},k.full_name)),B?n.a.createElement("div",null,"Loading players..."):n.a.createElement(s,{teamName:k?k.full_name:"Team A",players:x})),n.a.createElement("div",{className:"flex-1"},n.a.createElement(v,{teamId:t,setTeamId:r,season:S}),w&&n.a.createElement("div",{className:"flex items-center mt-2"},w.logo&&n.a.createElement("img",{src:w.logo,alt:w.full_name,className:"w-10 h-10 mr-2"}),n.a.createElement("span",{className:"font-bold"},w.full_name)),C?n.a.createElement("div",null,"Loading players..."):n.a.createElement(s,{teamName:w?w.full_name:"Team B",players:A}))),n.a.createElement("div",{className:"mt-6"},n.a.createElement(u,{isRunning:c,isPaused:m,onStart:d,onStop:b,onPause:E,onTimeout:p})),n.a.createElement("div",{className:"mt-6"},n.a.createElement(h,null)))}function N(e){let{onSelect:t}=e;return n.a.createElement("select",{onChange:e=>t(e.target.value)},[{id:1,name:"Lakers"},{id:2,name:"Warriors"},{id:3,name:"Celtics"}].map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name)))}function T(){const[e,t]=Object(l.useState)(""),[a,r]=Object(l.useState)(""),[c,i]=Object(l.useState)(2025),d=o(e,c),E=o(a,c),[f,b]=Object(l.useState)(720),[p,g]=Object(l.useState)(!1),[O,T]=Object(l.useState)(!1),[k,w]=Object(l.useState)({teamA:0,teamB:0}),[x,B]=Object(l.useState)([]),A=Object(l.useRef)(null),C=j();function I(){if(Math.random()<.05){const e=Math.random()<.5?"teamA":"teamB",t=Math.random()<.7?2:3;w(a=>Object(m.a)(Object(m.a)({},a),{},{[e]:a[e]+t})),B(a=>[...a,"".concat(e," scored ").concat(t," points")])}}Object(l.useEffect)(()=>(p&&f>0?A.current=setInterval(()=>{b(e=>e-1),I()},1e3):clearInterval(A.current),()=>clearInterval(A.current)),[p,f]),Object(l.useEffect)(()=>{if(!C)return;const e=e=>{console.log("Game update received:",e)};return C.on("gameUpdate",e),()=>{C.off("gameUpdate",e)}},[C]);const P=e&&a;return n.a.createElement("div",null,n.a.createElement("h1",null,"NBA Simulation"),n.a.createElement("div",{className:"flex gap-8 mb-4"},n.a.createElement("div",null,n.a.createElement(v,{teamId:e,setTeamId:t,setSeason:i})),n.a.createElement("div",null,n.a.createElement(v,{teamId:a,setTeamId:r,setSeason:i}))),P&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{quarter:1,timeLeft:f}),n.a.createElement("div",null,"Clock: ",Math.floor(f/60),":",String(f%60).padStart(2,"0")),n.a.createElement("div",null,"Score: Team A ",k.teamA," - Team B ",k.teamB),n.a.createElement(s,{teamName:"Team A",players:d}),n.a.createElement(s,{teamName:"Team B",players:E}),n.a.createElement(u,{isRunning:p,isPaused:O,onStart:()=>g(!0),onStop:()=>{g(!1),b(2880)},onPause:()=>T(e=>!e),onFastForward:function(){for(clearInterval(A.current);f>0;)I(),b(e=>e-1);g(!1)}}),n.a.createElement("div",null,n.a.createElement("h2",null,"Play-by-Play"),n.a.createElement("ul",null,x.map((e,t)=>n.a.createElement("li",{key:t},e))))),!P&&n.a.createElement("div",null,"Please select both teams and season to start simulation."),n.a.createElement("div",{style:{marginTop:40}},n.a.createElement("h2",null,"Other Components Demo"),n.a.createElement(S,{quarter:1,timeLeft:f}),n.a.createElement(h,null),n.a.createElement(N,null),n.a.createElement(y,null)))}function k(){return n.a.createElement(E,null,n.a.createElement(T,null))}c.a.createRoot(document.getElementById("root")).render(n.a.createElement(k,null))},5:function(e,t,a){e.exports=a(14)}},[[5,1,2]]]);
//# sourceMappingURL=main.950ced70.chunk.js.map